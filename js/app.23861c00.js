(function(){"use strict";var t={5305:function(t,e,r){var n=r(9242),i=r(3396),o=r(7139);const s={class:"container"},a={class:"editor"},l={class:"editor"},d={class:"container"},c={class:"settings"},u={class:"result-object"},h={class:"result-object__header"},g=(0,i._)("h3",null,"Элементы",-1),m=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"#aaa","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-copy","data-v-3b801528":""},[(0,i._)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2","data-v-3b801528":""}),(0,i._)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1","data-v-3b801528":""})],-1),f=[m],b={ref:"hiddenHTML",class:"hiddenHTML"},v={ref:"hiddenHTML_result",class:"hiddenHTML"};function p(t,e,r,n,m,p){const A=(0,i.up)("CodeEditor");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",s,[(0,i._)("div",a,[(0,i.Wm)(A,(0,i.dG)({class:"atom_one_light code_editor_custom",languages:[["HTML","HTML"]],modelValue:m.content,"onUpdate:modelValue":e[0]||(e[0]=t=>m.content=t),wrap_code:!0},p.getTextareaAttrs),null,16,["modelValue"])]),(0,i._)("div",l,[(0,i.Wm)(A,(0,i.dG)({class:"atom_one_light code_editor_custom",languages:[["HTML","HTML"]],modelValue:m.result,"onUpdate:modelValue":e[1]||(e[1]=t=>m.result=t),wrap_code:!0},p.getTextareaAttrs),null,16,["modelValue"])])]),(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("button",{class:"button",onClick:e[2]||(e[2]=(...t)=>p.addAttrs&&p.addAttrs(...t))},"Проставить атрибуты")]),(0,i._)("div",u,[(0,i._)("div",h,[g,(0,i._)("div",{onClick:e[3]||(e[3]=(...t)=>p.copyElementsObject&&p.copyElementsObject(...t)),class:"copy_code",tabindex:"0","data-v-3b801528":"","data-v-76b5d460":"",style:{width:"16px",height:"16px"}},f)]),(0,i._)("div",{ref:"elemntsResult",class:"result-object__result"},(0,o.zw)(m.elements),513)])]),(0,i._)("div",b,null,512),(0,i._)("div",v,null,512)])}var A=r(7393),w={name:"ForuGenerator",components:{CodeEditor:A.Z},data(){return{blockTypes:["Табы","Обложка","Цены","Подвал"],selectedBlockType:"Табы",content:'<div onclick="alert(1)" class="trade__form-input" tabindex="0">\n    Текстовый узел\n    <div></div>\n    <input placeholder="Placeholder" style="display: block; opacity: 0.9" elementid="elmqbeaq2562osaqdsokq9wr" type="number" value="45271.59">\n    <label>Цена</label>\n    <div class="trade__form-input-tooltip">\n        Введите объем <b>покупки</b>\n    </div>\n    <a id="link" href="vk.com">Ссылка</a>\n    <img alt="someimg" />\n    <iframe width="100%" title="Wikipedia page for Avocados" src="https://en.wikipedia.org/wiki/Avocado"></iframe>\n\n    <textarea required name="" id="" cols="30" rows="10"></textarea>\n    <textarea required="" name="" id="" cols="30" rows="10"></textarea>\n    <textarea required="required" name="" id="" cols="30" rows="10"></textarea>\n\t<textarea name="" id="" cols="30" rows="10"></textarea>\n</div>',result:"",elements:""}},computed:{getTextareaAttrs(){return{width:"100%",height:"400px",border_radius:"8px"}}},methods:{copyElementsObject(){var t=document.createRange();t.selectNode(this.$refs.elemntsResult),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()},selectType(t){this.selectedBlockType=t},generateId(){function t(t,e){e=e||"abcdefghijklmnopqrstuvwxyz0123456789";var r="",n=0;while(n<t){let t=Math.floor(Math.random()*e.length);r+=e.substring(t,t+1),n++}return r}return"el"+t(32,null).toLowerCase()},addClasses(t,e,r){let n=Array.from(t.classList).join(" ");""==n&&(n=""),r["classes"]=n,t.setAttribute("ng-class",`sitecontent['${e}']['classes']`)},addStyle(t,e,r){let n=t.getAttribute("style"),i={};if(null!==n&&""!==n){const t=/([\w-]*)\s*:\s*([^;]*)/g;for(let e=0;e<n.split(";").length;e++){const e=t.exec(n);i[e[1]]=e[2].trim()}}r["style"]=i,t.setAttribute("ng-style",`sitecontent['${e}']['style']`),t.removeAttribute("style")},addModelId(t,e,r){let n=t.getAttribute("id");null!=n&&(r["modelid"]=n),t.setAttribute("ng-attr-modelid",`{{sitecontent['${e}']['modelid']}}`),t.removeAttribute("id")},addModel(t,e,r){if(0==t.children.length&&t.childNodes.length>0){t.setAttribute("ng-model",`sitecontent['${e}']['text']`),t.setAttribute("ui-tinymce","tinymceOptions");let n=t.textContent;n=n.replace(/\n/g,"").replace(/\s+/g," "),r["text"]=n,t.innerHTML=""}},addAttrs(){this.$refs.hiddenHTML.innerHTML=this.content;const t=this.$refs.hiddenHTML,e=t.querySelectorAll("*"),r={};let n=[];e.forEach((t=>{let e=null,i=t.childNodes;t.hasAttribute("elementid")?e=t.getAttribute("elementid"):(e=this.generateId(),t.setAttribute("elementid",e)),r[e]={};const o=r[e];this.addClasses(t,e,o),this.addStyle(t,e,o),this.addModelId(t,e,o),this.addModel(t,e,o);for(let r=0;r<i.length;r++)if(3==i[r].nodeType&&""!=i[r].textContent.trim()&&t==i[r].parentNode&&t.children.length>0){const t=document.createElement("div");i[r].data.trim(),i[r].after(t),t.appendChild(i[r]),n.push(t)}if("A"===t.tagName){const r=t.getAttribute("href");let n=t.getAttribute("target");r?(t.setAttribute("ng-href",`{{sitecontent['${e}']['href']}}`),o["href"]=r,t.removeAttribute("href")):alert("У ссылки (тега а) отсутствует атрибут href"),n||(n="_self"),t.setAttribute("ng-attr-target",`{{sitecontent['${e}']['target']}}`),o["target"]=n,t.removeAttribute("target")}if("IMG"===t.tagName){const r=t.getAttribute("src"),n=t.getAttribute("alt");r?(t.setAttribute("ng-src",`{{sitecontent['${e}']['src']}}`),o["src"]=r,t.removeAttribute("src")):alert("У изображения (тега img) отсутствует атрибут src"),n&&(t.setAttribute("attr-alt",`{{sitecontent['${e}']['alt']}}`),o["alt"]=n,t.removeAttribute("alt"))}if("IFRAME"===t.tagName){const r=t.getAttribute("src"),n=t.getAttribute("width"),i=t.getAttribute("height");r?(t.setAttribute("ng-src",`{{sitecontent['${e}']['src']}}`),o["src"]=r,t.removeAttribute("src")):alert("У iframe отсутствует атрибут src"),n&&(t.setAttribute("ng-attr-width",`{{sitecontent['${e}']['width']}}`),o["width"]=n,t.removeAttribute("width")),i&&(t.setAttribute("ng-attr-height",`{{sitecontent['${e}']['height']}}`),o["height"]=i,t.removeAttribute("height"))}if("TEXTAREA"===t.tagName||"INPUT"===t.tagName){const r=t.getAttribute("placeholder"),n=t.getAttribute("required");o["required"]=!1,t.setAttribute("ng-required",`{{sitecontent['${e}']['required']}}`),(n||""==n)&&(o["required"]=!0,t.removeAttribute("required")),r&&(t.setAttribute("ng-attr-placeholder",`{{sitecontent['${e}']['placeholder']}}`),o["placeholder"]=r,t.removeAttribute("placeholder"))}console.log(t.tagName,o)})),n.forEach((t=>{let e=this.generateId();r[e]={};const n=r[e];this.addClasses(t,e,n),this.addStyle(t,e,n),this.addModel(t,e,n),console.log(t.tagName,n)})),console.log(r),this.elements=r,this.$refs.hiddenHTML_result.innerHTML=t.innerHTML,this.result=this.$refs.hiddenHTML_result.innerHTML}}},_=r(89);const y=(0,_.Z)(w,[["render",p]]);var x=y;(0,n.ri)(x).mount("#app")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,n,i,o){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],i=t[c][1],o=t[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(a=!1,o<s&&(s=o));if(a){t.splice(c--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,s=n[0],a=n[1],l=n[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)var c=l(r)}for(e&&e(n);d<s.length;d++)o=s[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},n=self["webpackChunkforu_generator"]=self["webpackChunkforu_generator"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(5305)}));n=r.O(n)})();
//# sourceMappingURL=app.23861c00.js.map