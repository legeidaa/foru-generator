(function(){"use strict";var e={6076:function(e,t,r){var n=r(9242),o=r(3396),i=r(7139);const l={class:"container"},s={class:"container"},d={class:"settings"},a={class:"result-object"},c={class:"result-object__header"},u=(0,o._)("h3",null,"Элементы",-1),h=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"#aaa","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-copy","data-v-3b801528":""},[(0,o._)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2","data-v-3b801528":""}),(0,o._)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1","data-v-3b801528":""})],-1),p=[h],g={ref:"hiddenHTML",class:"hiddenHTML"},m={ref:"hiddenHTML_result",class:"hiddenHTML"};function f(e,t,r,n,h,f){const b=(0,o.up)("CodeEditor"),v=(0,o.up)("DropdownSelect");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",l,[(0,o.Wm)(b,(0,o.dG)({class:"atom_one_dark code_editor_custom",languages:[["HTML","HTML"]],modelValue:h.content,"onUpdate:modelValue":t[0]||(t[0]=e=>h.content=e),wrap_code:!0},f.getTextareaAttrs),null,16,["modelValue"]),(0,o.Wm)(b,(0,o.dG)({languages:[["HTML","HTML"]],modelValue:h.result,"onUpdate:modelValue":t[1]||(t[1]=e=>h.result=e),wrap_code:!0},f.getTextareaAttrs),null,16,["modelValue"])]),(0,o._)("div",s,[(0,o._)("div",d,[(0,o.Wm)(v,{blockTypes:h.blockTypes,selectedBlockType:h.selectedBlockType,onSelectType:f.selectType},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(h.selectedBlockType),1)])),_:1},8,["blockTypes","selectedBlockType","onSelectType"]),(0,o._)("button",{class:"button",onClick:t[2]||(t[2]=(...e)=>f.addAttrs&&f.addAttrs(...e))},"Проставить атрибуты")]),(0,o._)("div",a,[(0,o._)("div",c,[u,(0,o._)("div",{onClick:t[3]||(t[3]=(...e)=>f.copyElementsObject&&f.copyElementsObject(...e)),class:"copy_code",tabindex:"0","data-v-3b801528":"","data-v-76b5d460":"",style:{width:"16px",height:"16px"}},p)]),(0,o._)("div",{ref:"elemntsResult",class:"result-object__result"},(0,i.zw)(h.elements),513)])]),(0,o._)("div",g,null,512),(0,o._)("div",m,null,512)])}var b=r(7393);const v={class:"dropdown-select"},w={class:"dropdown-select__menu"},y=["onClick"];function A(e,t,r,l,s,d){return(0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("button",{class:(0,i.C_)(["dropdown-select__text",{open:s.dropdownOpened}]),onClick:t[0]||(t[0]=(...e)=>d.toggleDropdown&&d.toggleDropdown(...e)),onBlur:t[1]||(t[1]=e=>s.dropdownOpened=!1)},[(0,o.WI)(e.$slots,"default")],34),(0,o.Wm)(n.uT,{name:"slide"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",w,[(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.blockTypes,(t=>((0,o.wg)(),(0,o.iD)("li",{class:(0,i.C_)([{active:t==this.selectedBlockType},"dropdown-select__item"]),key:t,onClick:r=>e.$emit("selectType",t)},(0,i.zw)(t),11,y)))),128))])],512),[[n.F8,s.dropdownOpened]])])),_:1})])}var _={name:"DropdownSelect",props:{blockTypes:Array,selectedBlockType:String},data(){return{dropdownOpened:!1}},methods:{toggleDropdown(){this.dropdownOpened=!this.dropdownOpened}}},T=r(89);const k=(0,T.Z)(_,[["render",A]]);var x=k,M={name:"ForuGenerator",components:{CodeEditor:b.Z,DropdownSelect:x},data(){return{blockTypes:["Табы","Обложка","Цены","Подвал"],selectedBlockType:"Табы",content:'<div onclick="alert(1)" class="trade__form-input" tabindex="0">\n    Текстовый узел\n    <div></div>\n    <input placeholder="Placeholder" style="display: block; opacity: 0.9" elementid="elmqbeaq2562osaqdsokq9wr" type="number" value="45271.59">\n    <label>Цена</label>\n    <div class="trade__form-input-tooltip">\n        Введите объем <b>покупки</b>\n    </div>\n    <a id="link" href="vk.com">Ссылка</a>\n    <img alt="someimg" />\n    <iframe width="100%" title="Wikipedia page for Avocados" src="https://en.wikipedia.org/wiki/Avocado"></iframe>\n\n    <textarea required name="" id="" cols="30" rows="10"></textarea>\n    <textarea required="" name="" id="" cols="30" rows="10"></textarea>\n    <textarea required="required" name="" id="" cols="30" rows="10"></textarea>\n\t<textarea name="" id="" cols="30" rows="10"></textarea>\n</div>',result:"",elements:""}},computed:{getTextareaAttrs(){return{width:"100%",height:"400px",border_radius:"8px"}}},methods:{copyElementsObject(){var e=document.createRange();e.selectNode(this.$refs.elemntsResult),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges()},selectType(e){this.selectedBlockType=e},generateId(){function e(e,t){t=t||"abcdefghijklmnopqrstuvwxyz0123456789";var r="",n=0;while(n<e){let e=Math.floor(Math.random()*t.length);r+=t.substring(e,e+1),n++}return r}return"el"+e(5,null).toLowerCase()},addClasses(e,t,r){let n=Array.from(e.classList).join(" ");""==n&&(n=""),r["classes"]=n,e.setAttribute("ng-class",`sitecontent['${t}']['classes']`)},addStyle(e,t,r){let n=e.getAttribute("style"),o={};if(null!==n&&""!==n){const e=/([\w-]*)\s*:\s*([^;]*)/g;for(let t=0;t<n.split(";").length;t++){const t=e.exec(n);o[t[1]]=t[2].trim()}}r["style"]=o,e.setAttribute("ng-style",`sitecontent['${t}']['style']`)},addModelId(e,t,r){let n=e.getAttribute("id");null!=n&&(r["modelid"]=n),e.setAttribute("ng-attr-modelid",`{{sitecontent['${t}']['modelid']}}`)},addModel(e,t,r){if(0==e.children.length&&e.childNodes.length>0){e.setAttribute("ng-model",`sitecontent['${t}']['text']`),e.setAttribute("ui-tinymce","tinymceOptions");let n=e.textContent;n=n.replace(/\n/g,"").replace(/\s+/g," "),r["text"]=n,e.innerHTML=""}},addAttrs(){this.$refs.hiddenHTML.innerHTML=this.content;const e=this.$refs.hiddenHTML,t=e.querySelectorAll("*"),r={};let n=[];t.forEach((e=>{let t=null,o=e.childNodes;e.hasAttribute("elementid")?t=e.getAttribute("elementid"):(t=this.generateId(),e.setAttribute("elementid",t)),r[t]={};const i=r[t];this.addClasses(e,t,i),this.addStyle(e,t,i),this.addModelId(e,t,i),this.addModel(e,t,i);for(let r=0;r<o.length;r++)if(3==o[r].nodeType&&""!=o[r].textContent.trim()&&e==o[r].parentNode&&e.children.length>0){const e=document.createElement("div");o[r].data.trim(),o[r].after(e),e.appendChild(o[r]),n.push(e)}if("A"===e.tagName){const r=e.getAttribute("href");let n=e.getAttribute("target");r?(e.setAttribute("ng-href",`{{sitecontent['${t}']['href']}}`),i["href"]=r,e.removeAttribute("href")):alert("У ссылки (тега а) отсутствует атрибут href"),n||(n="_self"),e.setAttribute("ng-attr-target",`{{sitecontent['${t}']['target']}}`),i["target"]=n,e.removeAttribute("target")}if("IMG"===e.tagName){const r=e.getAttribute("src"),n=e.getAttribute("alt");r?(e.setAttribute("ng-src",`{{sitecontent['${t}']['src']}}`),i["src"]=r,e.removeAttribute("src")):alert("У изображения (тега img) отсутствует атрибут src"),n&&(e.setAttribute("attr-alt",`{{sitecontent['${t}']['alt']}}`),i["alt"]=n,e.removeAttribute("alt"))}if("IFRAME"===e.tagName){const r=e.getAttribute("src"),n=e.getAttribute("width"),o=e.getAttribute("height");r?(e.setAttribute("ng-src",`{{sitecontent['${t}']['src']}}`),i["src"]=r,e.removeAttribute("src")):alert("У iframe отсутствует атрибут src"),n&&(e.setAttribute("ng-attr-width",`{{sitecontent['${t}']['width']}}`),i["width"]=n,e.removeAttribute("width")),o&&(e.setAttribute("ng-attr-height",`{{sitecontent['${t}']['height']}}`),i["height"]=o,e.removeAttribute("height"))}if("TEXTAREA"===e.tagName||"INPUT"===e.tagName){const r=e.getAttribute("placeholder");console.log(e.hasAttribute("required"),e.getAttribute("required"));const n=e.getAttribute("required");i["required"]=!1,e.setAttribute("ng-required",`{{sitecontent['${t}']['required']}}`),(n||""==n)&&(i["required"]=!0,e.removeAttribute("required")),r&&(e.setAttribute("ng-attr-placeholder",`{{sitecontent['${t}']['placeholder']}}`),i["placeholder"]=r,e.removeAttribute("placeholder"))}console.log(e.tagName,i)})),n.forEach((e=>{let t=this.generateId();r[t]={};const n=r[t];this.addClasses(e,t,n),this.addStyle(e,t,n),this.addModel(e,t,n),console.log(e.tagName,n)})),console.log(r),this.elements=r,this.$refs.hiddenHTML_result.innerHTML=e.innerHTML,this.result=this.$refs.hiddenHTML_result.innerHTML}}};const O=(0,T.Z)(M,[["render",f]]);var $=O;(0,n.ri)($).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var s=!0,d=0;d<n.length;d++)(!1&i||l>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[d])}))?n.splice(d--,1):(s=!1,i<l&&(l=i));if(s){e.splice(c--,1);var a=o();void 0!==a&&(t=a)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,l=n[0],s=n[1],d=n[2],a=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(d)var c=d(r)}for(t&&t(n);a<l.length;a++)i=l[a],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self["webpackChunkforu_generator"]=self["webpackChunkforu_generator"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(6076)}));n=r.O(n)})();
//# sourceMappingURL=app.5ef7d44f.js.map